## Table of Contents

1. [System Overview](#1-system-overview)
   - [1.1 Key Features](#11-key-features)
   - [1.2 Supported Content Types](#12-supported-content-types)

2. [Core Architecture](#2-core-architecture)
   - [2.1 ID Ranges](#21-id-ranges)
   - [2.2 Key Principles](#22-key-principles)

3. [File Structure & Naming Conventions](#3-file-structure--naming-conventions)
   - [3.1 Complete Directory Structure](#31-complete-directory-structure)
   - [3.2 Required FISSION Files](#32-required-fission-files)
   - [3.3 File Naming Rules](#33-file-naming-rules)
   - [3.4 Important Notes](#34-important-notes)

4. [Configuration Files](#4-configuration-files)
   - [4.1 Area Configuration (`city_{modname}.txt`)](#41-area-configuration-city_modnametxt)
     - [4.1.1 Format](#411-format)
     - [4.1.2 Rules](#412-rules)
   - [4.2 Map Configuration (`maps_{modname}.txt`)](#42-map-configuration-maps_modnametxt)
     - [4.2.1 Format](#421-format)
     - [4.2.2 Critical Rules](#422-critical-rules)
   - [4.3 Quest Configuration (`quests_{modname}.txt`)](#43-quest-configuration-quests_modnametxt)
     - [4.3.1 Format](#431-format)
     - [4.3.2 Rules](#432-rules)
   - [4.4 Holodisk Configuration (`holodisk_{modname}.txt`)](#44-holodisk-configuration-holodisk_modnametxt)
     - [4.4.1 Format](#441-format)
     - [4.4.2 Rules](#442-rules)

5. [Message System](#5-message-system)
   - [5.1 File Structure (`messages_{modname}.txt`)](#51-file-structure-messages_modnametxt)
     - [5.1.1 Format](#511-format)
     - [5.1.2 Critical Format Rules](#512-critical-format-rules)
   - [5.2 Key Formats Explained](#52-key-formats-explained)
   - [5.3 ID Generation Examples](#53-id-generation-examples)
   - [5.4 Common Mistakes to Avoid](#54-common-mistakes-to-avoid)
   - [5.5 Validation Tips](#55-validation-tips)

6. [Stable ID Generation](#6-stable-id-generation)
   - [6.1 Unified Hash Function](#61-unified-hash-function)
   - [6.2 Mod Message ID Generator](#62-mod-message-id-generator)
   - [6.3 Quest-Specific ID Generation](#63-quest-specific-id-generation)
   - [6.4 Holodisk ID Generation](#64-holodisk-id-generation)
   - [6.5 Area Slot Allocation](#65-area-slot-allocation)
   - [6.6 Map Slot Allocation](#66-map-slot-allocation)
   - [6.7 Quest Slot Allocation](#67-quest-slot-allocation)

7. [Implementation Details](#7-implementation-details)
   - [7.1 Area Loading (`worldmap.cc`)](#71-area-loading-worldmapcc)
   - [7.2 Map Loading (`worldmap.cc`)](#72-map-loading-worldmapcc)
   - [7.3 Quest Loading (`pipboy.cc`)](#73-quest-loading-pipboycc)
   - [7.4 Holodisk Loading (`pipboy.cc`)](#74-holodisk-loading-pipboycc)
     - [7.4.1 Process Overview](#741-process-overview)
     - [7.4.2 Conversion Example](#742-conversion-example)
     - [7.4.3 Key Functions](#743-key-functions)
   - [7.5 Message Loading (`message.cc`)](#75-message-loading-messagecc)
   - [7.6 Runtime Retrieval](#76-runtime-retrieval)
     - [7.6.1 Quest Description Retrieval](#761-quest-description-retrieval)
     - [7.6.2 Map Name Retrieval](#762-map-name-retrieval)
     - [7.6.3 Holodisk Text Retrieval](#763-holodisk-text-retrieval)

8. [Debugging & Reports](#8-debugging--reports)
   - [8.1 Generated Reports](#81-generated-reports)
   - [8.2 Report Formats](#82-report-formats)
     - [8.2.1 Quest Report Format](#821-quest-report-format)
     - [8.2.2 Holodisk Report Format](#822-holodisk-report-format)
     - [8.2.3 Message Report Format](#823-message-report-format)
   - [8.3 Error Detection](#83-error-detection)

9. [Modder Guidelines](#9-modder-guidelines)
   - [9.1 Step-by-Step Mod Creation](#91-step-by-step-mod-creation)
   - [9.2 Testing Checklist](#92-testing-checklist)
     - [9.2.1 Areas & Maps](#921-areas--maps)
     - [9.2.2 Quests](#922-quests)
     - [9.2.3 Holodisks](#923-holodisks)
     - [9.2.4 General Testing](#924-general-testing)

10. [Known Limitations & Workarounds](#10-known-limitations--workarounds)
    - [10.1 Quest-Specific Limitations](#101-quest-specific-limitations)
    - [10.2 Holodisk-Specific Limitations](#102-holodisk-specific-limitations)
    - [10.3 General Limitations](#103-general-limitations)

11. [Quest System Specifics](#11-quest-system-specifics)
    - [11.1 Architecture Summary](#111-architecture-summary)
    - [11.2 Modder Workflow](#112-modder-workflow)
    - [11.3 Critical Notes for Modders](#113-critical-notes-for-modders)
    - [11.4 Integration Points](#114-integration-points)

12. [Holodisk System Specifics](#12-holodisk-system-specifics)
    - [12.1 Overview](#121-overview)
    - [12.2 File Structure](#122-file-structure)
      - [12.2.1 Holodisk Definition File](#1221-holodisk-definition-file)
      - [12.2.2 Message File Format](#1222-message-file-format)
    - [12.3 How It Works](#123-how-it-works)
      - [12.3.1 Loading Process](#1231-loading-process)
      - [12.3.2 Conversion Example](#1232-conversion-example)
    - [12.4 Script Usage](#124-script-usage)
    - [12.5 Special Notes](#125-special-notes)
      - [12.5.1 Empty Lines](#1251-empty-lines)
      - [12.5.2 Pagination](#1252-pagination)
      - [12.5.3 Localization](#1253-localization)
      - [12.5.4 GVAR Management](#1254-gvar-management)
    - [12.6 Complete Example Mod](#126-complete-example-mod)
    - [12.7 Troubleshooting Holodisks](#127-troubleshooting-holodisks)
    - [12.8 Best Practices](#128-best-practices)

13. [Proto System](#13-proto-system)
    - [13.1 Overview](#131-overview)
    - [13.2 File Structure](#132-file-structure)
      - [13.2.1 Proto Definition Files](#1321-proto-definition-files)
      - [13.2.2 List File Format](#1322-list-file-format)
      - [13.2.3 Message File Format for Protos](#1323-message-file-format-for-protos)
    - [13.3 PID Generation](#133-pid-generation)
      - [13.3.1 PID Format](#1331-pid-format)
      - [13.3.2 PID Ranges by Type](#1332-pid-ranges-by-type)
    - [13.4 PID Generation vs. .pro File Contents](#134-pid-generation-vs-pro-file-contents)
      - [13.4.1 How It Works](#1341-how-it-works)
      - [13.4.2 Why This Design](#1342-why-this-design)
      - [13.4.3 What This Means for Modders](#1343-what-this-means-for-modders)
      - [13.4.4 Example Workflow](#1344-example-workflow)
    - [13.5 Creating Mod Protos](#135-creating-mod-protos)
    - [13.6 Using Mod Protos in Scripts](#136-using-mod-protos-in-scripts)
      - [13.6.1 Creating Objects with Mod PIDs](#1361-creating-objects-with-mod-pids)
      - [13.6.2 Getting Proto Information](#1362-getting-proto-information)
      - [13.6.3 Checking Proto Properties](#1363-checking-proto-properties)
    - [13.7 Generated Reports](#137-generated-reports)
    - [13.8 Hash Collision Handling](#138-hash-collision-handling)
    - [13.9 Special Considerations](#139-special-considerations)
      - [13.9.1 Proto File Format](#1391-proto-file-format)
      - [13.9.2 Art Requirements](#1392-art-requirements)
      - [13.9.3 Message Loading](#1393-message-loading)
      - [13.9.4 Save Game Compatibility](#1394-save-game-compatibility)
    - [13.10 Complete Example](#1310-complete-example)
    - [13.11 Best Practices](#1311-best-practices)
    - [13.12 Troubleshooting Protos](#1312-troubleshooting-protos)
    - [13.13 Integration Points](#1313-integration-points)

14. [Troubleshooting](#14-troubleshooting)
    - [14.1 Common Issues](#141-common-issues)
    - [14.2 Debug Commands](#142-debug-commands)
    - [14.3 Debugging Steps](#143-debugging-steps)

15. [Appendix A: Quick Reference](#appendix-a-quick-reference)
    - [15.1 File Naming](#161-file-naming)
    - [15.2 Key Formats](#162-key-formats)
    - [15.3 ID Ranges](#163-id-ranges)
    - [15.4 Critical Rules](#164-critical-rules)

16. [Appendix B: Example Mod Structure](#appendix-b-example-mod-structure)
    - [16.1 Complete Example Mod](#171-complete-example-mod)
    - [16.2 Installation and Testing](#172-installation-and-testing)
    - [16.3 Notes for Modders](#173-notes-for-modders)
    - [16.4 Generated IDs Reference](#174-generated-ids-reference)
